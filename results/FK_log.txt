link twist (alpha); link length (a);  joint offset (d)

1. careful measure Optitrack
    [0, 0, 0, 1, # quat x y z w, almost identity
    -0.025816, -0.479914, -(0.034154-0.009)])

   careful measurement:
     0,       0,    0.101, # 0 2
     np.pi/2, 0,    0.0826, # 3 5
     np.pi,   0.3255,  0.0451, # 6 7
     np.pi,   0.3255,  0.0713,  # 9 10
     np.pi/2, 0,    0.1143, # 12 14
     np.pi/2, 0,    0.1143, # 15 17
     -0.707,  0,    0, 0.707, 0.133, 0.0803, 0.025]) # 22 23 24

    The DH measurement has 1.7 cm / 4 cm (avg/max error).
    Compared to 1.9cm / 3.9cm achieved by Hebi Default parameters.

2.1 Tune selective set of FK parameters

[0, 2, 3, 5, 6, 7, 9, 10, 12, 14, 15, 17, 22, 23, 24] =>
Scipy optimized params [-3.90201236e-06  9.70551527e-02  1.57079643e+00  9.13737515e-02
  3.13790710e+00  3.24824321e-01  3.14159259e+00  3.32446922e-01
  1.56858519e+00  1.14309701e-01  1.57079667e+00  1.11988448e-01
  1.33118952e-01  8.02960399e-02  2.26884479e-02]
0.0021246559309167404 0.006658969800736433
After optimize, avg distance = 0.006658969800736433
After optimize, max distance =  0.024955860163308908
[-0.00000390 0.00000000
 0.09705515 1.57079643
 0.00000000 0.09137375
 3.13790710 0.32482432
 0.04510000 3.14159259
 0.33244692 0.07130000
 1.56858519 0.00000000
 0.11430970 1.57079667
 0.00000000 0.11198845
 -0.70700000 0.00000000
 0.00000000 0.70700000
 0.13311895 0.08029604
 0.02268845]
Changes
[-0.00000390 0.00000000
 -0.00394485 0.00000011
 0.00000000 0.00877375
 -0.00368555 -0.00067568
 0.00000000 -0.00000006
 0.00694692 0.00000000
 -0.00221114 0.00000000
 0.00000970 0.00000034
 0.00000000 -0.00231155
 0.00000000 0.00000000
 0.00000000 0.00000000
 0.00011895 -0.00000396
 -0.00231155]

2.2 Tune selective FK parameters (adding a constraint)

[0, 2, 3, 5, 6, 7, 9, 10, 12, 14, 15, 17, 22, 23, 24]
Force [8] to += [5] - initial + [11] - initial
After optimize, avg distance = 0.005858133096613197
After optimize, max distance =  0.022895545720916347

[0.00000000902663874000, 0.00000000000000000000,
 0.09669200429999999513,
 1.57079627999999993371,
 0.00000000000000000000, 0.08259997319999999588,
 3.12226253999999991962, 0.32457626000000000532,
 0.04510001979999998800, 3.14159263999999982531,
 0.33232171300000001857, 0.07130004659999999994,
 1.55818177000000002153, 0.00000000000000000000,
 0.11430068999999999646, 1.57079629000000009498,
 0.00000000000000000000, 0.11281335300000000510,
 -0.70699999999999996181, 0.00000000000000000000,
 0.00000000000000000000, 0.70699999999999996181,
 0.13346192200000001060, 0.08030005510000000346,
 0.02351335309999999859,]
changes
 [0.00000000902663874000, 0.00000000000000000000,
 -0.00430799570000001131,
 -0.00000004679489662429, 0.00000000000000000000,
 -0.00000002680000001087,
 -0.01933011358979319638,
 -0.00092374000000000622, 0.00000001979999998680,
 -0.00000001358979329069, 0.00682171300000000702,
 0.00000004659999999768, -0.01261455679489653647,
 0.00000000000000000000, 0.00000068999999999764,
 -0.00000003679489646302, 0.00000000000000000000,
 -0.00148664699999999372, 0.00000000000000000000,
 0.00000000000000000000, 0.00000000000000000000,
 0.00000000000000000000, 0.00046192200000000350,
 0.00000005510000000708, -0.00148664690000000280,]


3.
Now with the updated FK, optimize R (all)
 Before optimization, avg distance 0.005858133269597871
 Max distance 0.022895546680406588
 After optimize, minimum= 0.003379352723365304
 New R params [-0.00542791  0.02308267  0.00116339  0.99971815 -0.03122446 -0.48154006
 -0.04078166]
 New average distance 0.0033793527233653016
 Max distance 0.010401589852146884

Emmmm the rotation matrix has a small change of rotating y axis about 2.6 degress ...
 Perhaps later try instead optimize R only xyz?

